{"version":3,"file":"js/527.9cd025eb.js","mappings":"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","sources":["webpack://ticketshow-vue/./src/views/StatsView.vue","webpack://ticketshow-vue/src/views/StatsView.vue","webpack://ticketshow-vue/./src/views/StatsView.vue?7b42","webpack://ticketshow-vue/./src/views/StatsView.vue?5e01"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-container',{staticClass:\"d-flex flex-column justify-content-center h-100\",attrs:{\"id\":\"rox\",\"data-bs-theme\":_vm.appstore.app_theme,\"fluid\":\"\"}},[_c('div',{staticClass:\"mb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"slk h1 bg-primary\",attrs:{\"data-bs-theme\":_vm.appstore.app_theme,\"list\":\"datalist\",\"placeholder\":\"Select a Theatre to continue\",\"type\":\"search\"},domProps:{\"value\":(_vm.search)},on:{\"change\":_vm.load_data,\"focusin\":function($event){_vm.theatres_list = _vm.storeE.theatre_list},\"focusout\":_vm.load_data,\"input\":function($event){if($event.target.composing)return;_vm.search=$event.target.value}}}),_c('datalist',{attrs:{\"id\":\"datalist\"}},_vm._l((_vm.theatres_list),function(x){return _c('option',{key:x.id,domProps:{\"value\":x.name}})}),0),_c('b-form-select',{staticClass:\"slk h1 bg-primary text-secondary\",class:_vm.appstore.app_theme==='dark'? '':'',attrs:{\"data-bs-theme\":_vm.appstore.app_theme},on:{\"change\":_vm.load_data},model:{value:(_vm.days),callback:function ($$v) {_vm.days=$$v},expression:\"days\"}},[_c('b-form-select-option',{attrs:{\"value\":\"7\"}},[_vm._v(\"Last Week\")]),_c('b-form-select-option',{attrs:{\"value\":\"15\"}},[_vm._v(\"Last 15 days\")]),_c('b-form-select-option',{attrs:{\"value\":\"30\"}},[_vm._v(\"Last Month\")]),_c('b-form-select-option',{attrs:{\"value\":\"365\"}},[_vm._v(\"Last Year\")])],1)],1),_c('b-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selected_theatre),expression:\"selected_theatre\"}]},[_c('b-col',{staticClass:\"col-12 col-md-4\"},[_c('b-card',{staticClass:\"mb-3 bg-opacity-25\"},[_c('h4',[_vm._v(\"Total Revenue\")]),_c('h1',[_vm._v(\"â‚¹\"+_vm._s(_vm.total_revenue))])]),_c('b-card',{staticClass:\"mb-3 bg-opacity-25\"},[_c('h4',[_vm._v(\"Tickets Sold\")]),_c('h1',[_vm._v(_vm._s(_vm.ticket_sold))])]),_c('b-card',{staticClass:\"mb-3 bg-opacity-25\"},[_c('h4',[_vm._v(\"Shows\")]),_c('h1',[_vm._v(_vm._s(_vm.no_of_shows))])]),_c('apexchart',{staticClass:\"mt-4\",attrs:{\"options\":_vm.radial_options,\"series\":_vm.radial_series,\"height\":\"390\",\"type\":\"pie\"}})],1),_c('b-col',{staticClass:\"col-12 col-md-8 p-0 ma-0\",staticStyle:{\"height\":\"max-content\"}},[_c('apexchart',{staticClass:\"p-0 mb-3 bg-secondary card bg-opacity-25\",attrs:{\"options\":_vm.line_options,\"series\":_vm.line_series,\"type\":\"line\"}}),_c('apexchart',{staticClass:\"p-0 mb-3 bg-secondary card bg-opacity-25\",attrs:{\"options\":_vm.bar_options,\"series\":_vm.bar_series,\"height\":\"430\",\"type\":\"bar\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport {useAppStore} from \"@/store\";\nimport {useEditorStore} from \"@/store/EditorStore\";\n\nexport default {\n  name: \"StatsView\",\n\n  data: function () {\n    return {\n      days: 7,\n      total_revenue: 0,\n      ticket_sold: 0,\n      no_of_shows: 0,\n      appstore: useAppStore(),\n      storeE: useEditorStore(),\n      theatres_list: [],\n      retrieved_data: [],\n      selected_theatre: null,\n      search: '',\n      line_series: [\n        {\n          name: \"Revenue Collected\",\n          data: [1.4, 2, 2.5, 1.5, 2.5, 2.8, 3.8]\n        },\n        {\n          name: \"Tickets Sold\",\n          data: [20, 29, 37, 36, 44, 45, 50]\n        }\n      ],\n      label_x:[],\n      line_options: {\n        dataLabels: {\n          enabled: false\n        },\n        colors: [\"#FF1654\", \"#247BA0\"],\n\n        stroke: {\n          width: [4, 4],\n          curve: 'smooth'\n        },\n        plotOptions: {\n          bar: {\n            columnWidth: \"20%\"\n          }\n        },\n        xaxis: {\n          categories: this.label_x,\n          convertedCatToNumeric: false,\n          labels: {\n            style: {\n              colors: '#aaa',\n              fontSize: '15px'\n            }\n          }\n        },\n        yaxis: [\n          {\n            axisTicks: {\n              show: true\n            },\n            axisBorder: {\n              show: true,\n              color: \"#FF1654\"\n            },\n            labels: {\n              style: {\n                colors: \"#FF1654\",\n                fontSize: '15px'\n\n              },\n              formatter: function (value) {\n                const lookup = [\n                  { value: 1, symbol: \"\" },\n                  { value: 1e3, symbol: \"k\" },\n                  { value: 1e6, symbol: \"M\" },\n                  { value: 1e9, symbol: \"G\" },\n                  { value: 1e12, symbol: \"T\" },\n                  { value: 1e15, symbol: \"P\" },\n                  { value: 1e18, symbol: \"E\" }\n                ];\n                const rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\n                let item = lookup.slice().reverse().find(function(item) {\n                  return value >= item.value;\n                });\n                return \"â‚¹\"+(item ? (value / item.value).toFixed(1).replace(rx, \"$1\") + item.symbol : \"0\");\n              }\n            },\n            title: {\n              text: \"Revenue Collected\",\n              style: {\n                color: \"#FF1654\"\n              }\n            }\n          },\n          {\n            opposite: true,\n            axisTicks: {\n              show: true\n            },\n            axisBorder: {\n              show: true,\n              color: \"#247BA0\"\n            },\n            labels: {\n              style: {\n                colors: \"#247BA0\",\n                fontSize: '15px',\n\n              }\n            },\n            title: {\n              text: \"Tickets Sold\",\n              style: {\n                color: \"#247BA0\"\n              }\n            }\n          }\n        ],\n        tooltip: {\n          shared: false,\n          intersect: true,\n          x: {\n            show: false\n          }\n        },\n        legend: {\n          horizontalAlign: \"left\",\n          offsetX: 40,\n          fontSize: '14px',\n          labels: {\n            colors: undefined,\n            useSeriesColors: true,\n          },\n        }\n      },\n      radial_series: [76, 67, 61, 90],\n      radial_options: {\n        plotOptions: {\n          radialBar: {\n            offsetY: 0,\n            startAngle:\n                0,\n            endAngle:\n                270,\n            hollow:\n                {\n                  margin: 5,\n                  size:\n                      '30%',\n                  background:\n                      '#87777A',\n                  image:\n                  undefined,\n                }\n            ,\n            dataLabels: {\n              enabled: false,\n              name: {\n                enabled: false,\n                show: false,\n              }\n              ,\n              value: {\n                enabled: false,\n                show: false,\n              }\n            }\n          }\n        },\n        colors: ['#421821', '#753033', '#532025', '#642829'],\n        labels:\n            ['Vimeo', 'Messenger', 'Facebook', 'LinkedIn'],\n        legend:\n            {\n              show: true,\n              floating:\n                  false,\n              fontSize:\n                  '13px',\n              position:\n                  'bottom',\n              offsetX:\n                  0,\n              offsetY:\n                  0,\n              labels:\n                  {\n                    colors:'#ccc',\n                    useSeriesColors: false,\n                  }\n              ,\n              markers: {\n                size: 0\n              },\n              formatter: function (seriesName, opts) {\n                return  seriesName + \":  \" + \"â‚¹\" + opts.w.globals.series[opts.seriesIndex]\n              }\n              ,\n              itemMargin: {\n                vertical: 3\n              }\n            },\n\n        responsive: [{\n          breakpoint: 480,\n          options: {\n            legend: {\n              show: false\n            }\n          }\n        }]\n      },\n      bar_series: [\n        {name: \"Ticket Sold\", data: []},\n        {name: \"Revenue\", data: []},],\n      bar_options: {\n        title:{\n          text:'Performance of each show',\n          style:{\n            colors:['#fff'],\n            fontSize: '21px',\n          }\n        },\n        colors: ['#421821', '#753033'],\n        plotOptions: {\n          bar: {\n            borderRadius: 10,\n            horizontal: false,\n            style: {},\n\n          }\n        },\n        legend:{\n          fontSize: '14px',\n          labels: {\n            colors: '#ccc',\n            useSeriesColors: false,\n          },\n        },\n        dataLabels: {\n          enabled: false,\n        },\n        tooltip: {\n          shared: true,\n          // colors: ['#565656'],\n          intersect: false,\n          theme: 'dark',\n          y: {\n            formatter: function (value, {seriesIndex,}) {\n              if (seriesIndex === 1) {\n                return \"â‚¹\" + value\n              } else {\n                return value\n              }\n            }\n          }\n\n\n        },\n        xaxis: {\n          categories: [],\n          convertedCatToNumeric: false,\n          labels: {\n            style: {\n              colors: '#aaa',\n              fontSize: '15px'\n            }\n          }\n        },\n        yaxis: [\n          {\n            show: false,\n          },\n          {\n            show: false,\n          }\n        ]\n      }\n    }\n  },\n  beforeMount() {\n    this.storeE.getData(1)\n    this.theatres_list = this.storeE.theatre_list\n\n  },\n  methods: {\n    async load_data() {\n      this.selected_theatre = this.theatres_list.find(x => x.name === this.search)\n      const asd = this.appstore\n\n      if (this.selected_theatre) {\n        try {\n          this.loading = true;\n          const response = await fetch(asd.api + \"/stat/theatre?id=\" + this.selected_theatre.id + '&days=' + this.days, {\n            method: 'GET',\n            headers: asd.getheader()\n          });\n          if (response.status === 200) {\n            const content = await response.json();\n            this.retrieved_data = content\n            this.total_revenue = content['total_revenue']\n            this.ticket_sold = content['ticket_sold']\n            this.no_of_shows = content['no_of_shows']\n            this.line_series = [\n              {\n                name: \"Revenue Collected\",\n                data: content['revenue_per_day']\n              },\n              {\n                name: \"Tickets Sold\",\n                data: content['ticket_sold_per_day']\n              }\n            ]\n            let line_options = JSON.parse(JSON.stringify(this.line_options))\n            line_options.yaxis = [\n              {\n                axisTicks: {\n                  show: false\n                },\n                axisBorder: {\n                  show: true,\n                  color: \"#FF1654\"\n                },\n                labels: {\n                  style: {\n                    colors: \"#FF1654\",\n                    fontSize: '15px'\n\n                  },\n                  formatter: function (value) {\n                    const lookup = [\n                      { value: 1, symbol: \"\" },\n                      { value: 1e3, symbol: \"k\" },\n                      { value: 1e6, symbol: \"M\" },\n                      { value: 1e9, symbol: \"G\" },\n                      { value: 1e12, symbol: \"T\" },\n                      { value: 1e15, symbol: \"P\" },\n                      { value: 1e18, symbol: \"E\" }\n                    ];\n                    const rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\n                    let item = lookup.slice().reverse().find(function(item) {\n                      return value >= item.value;\n                    });\n                    return \"â‚¹\"+(item ? (value / item.value).toFixed(1).replace(rx, \"$1\") + item.symbol : \"0\");\n                  }\n                },\n                title: {\n                  text: \"Revenue Collected\",\n                  style: {\n                    color: \"#FF1654\"\n                  }\n                }\n              },\n              {\n                opposite: true,\n                axisTicks: {\n                  show: false\n                },\n                axisBorder: {\n                  show: true,\n                  color: \"#247BA0\"\n                },\n                labels: {\n                  style: {\n                    colors: \"#247BA0\",\n                    fontSize: '15px',\n                  }\n                },\n                title: {\n                  text: \"Tickets Sold\",\n                  style: {\n                    color: \"#247BA0\"\n                  }\n                }\n              }\n            ]\n            line_options.xaxis.categories = content['label']\n            this.line_options = line_options\n            // let bar_series = JSON.parse(JSON.stringify(this.bar_series))\n            // bar_series[0].data = content.bar_series[0]\n            // bar_series[1].data = content.bar_series[1]\n            this.bar_series = content.bar_series\n            // this.bar_series = [\n            //     {name: \"Ticket Sold\",data: content.bar_series0},\n            //     {name: \"Revenue\", data: content.bar_series1}\n            // ];\n\n            let bar_options = JSON.parse(JSON.stringify(this.bar_options))\n            bar_options.xaxis.categories = content['shows_names']\n            this.bar_options = bar_options\n            let r_options = JSON.parse(JSON.stringify(this.radial_options))\n            r_options.labels = content['shows_names']\n            this.radial_options = r_options\n            console.log(content.bar_series[1])\n            this.radial_series = content.bar_series[1].data.map((float) => Math.floor(float))\n            this.loading = false;\n          } else {\n            console.log(response.status, \"Failed to load bulk running\")\n          }\n        } catch (e) {\n          console.log(\"Failed to load bulk running \", e)\n        }\n      }\n    }\n  },\n}\n</script>\n\n<template>\n  <b-container id=\"rox\" :data-bs-theme=\"appstore.app_theme\" class=\"d-flex flex-column justify-content-center h-100\"\n               fluid>\n    <div class=\"mb-3\">\n      <input v-model=\"search\" :data-bs-theme=\"appstore.app_theme\" class=\"slk h1  bg-primary\"\n             list=\"datalist\" placeholder=\"Select a Theatre to continue\" type=\"search\"\n             @change=\"load_data\" @focusin=\"theatres_list = storeE.theatre_list\" @focusout=\"load_data\">\n      <datalist id=\"datalist\">\n        <option v-for=\"x in theatres_list\" :key=\"x.id\" :value=\"x.name\"></option>\n      </datalist>\n      <b-form-select v-model=\"days\" :class=\"appstore.app_theme==='dark'? '':''\" :data-bs-theme=\"appstore.app_theme\"\n                     class=\"slk h1 bg-primary text-secondary\" @change=\"load_data\">\n        <b-form-select-option value=\"7\">Last Week</b-form-select-option>\n        <b-form-select-option value=\"15\">Last 15 days</b-form-select-option>\n        <b-form-select-option value=\"30\">Last Month</b-form-select-option>\n        <b-form-select-option value=\"365\">Last Year</b-form-select-option>\n      </b-form-select>\n    </div>\n    <b-row v-show=\"selected_theatre\">\n      <b-col class=\"col-12 col-md-4 \">\n        <b-card class=\"mb-3 bg-opacity-25\">\n          <h4>Total Revenue</h4>\n          <h1>â‚¹{{ total_revenue }}</h1>\n        </b-card>\n        <b-card class=\"mb-3 bg-opacity-25\">\n          <h4>Tickets Sold</h4>\n          <h1>{{ ticket_sold }}</h1>\n        </b-card>\n        <b-card class=\"mb-3 bg-opacity-25\">\n          <h4>Shows</h4>\n          <h1>{{ no_of_shows }}</h1>\n        </b-card>\n        <apexchart :options=\"radial_options\" :series=\"radial_series\" height=\"390\" class=\"mt-4\" type=\"pie\"></apexchart>\n      </b-col>\n      <b-col class=\"col-12 col-md-8 p-0 ma-0 \" style=\"height: max-content;\">\n        <apexchart :options=\"line_options\" :series=\"line_series\" class=\"p-0 mb-3 bg-secondary card bg-opacity-25\" type=\"line\"></apexchart>\n        <apexchart  :options=\"bar_options\" :series=\"bar_series\" height=\"430\" class=\"p-0 mb-3 bg-secondary card bg-opacity-25\"\n                   type=\"bar\"></apexchart>\n      </b-col>\n    </b-row>\n\n\n  </b-container>\n</template>\n\n<style scoped>\n.slk {\n//width: 80%; padding: 10px;\n  height: 90%;\n\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n\n@media (min-width: 1080px) {\n  #rox {\n    min-width: 120vh;\n    max-width: 1080px;\n  }\n\n}\n\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StatsView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StatsView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StatsView.vue?vue&type=template&id=bed6a406&scoped=true&\"\nimport script from \"./StatsView.vue?vue&type=script&lang=js&\"\nexport * from \"./StatsView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StatsView.vue?vue&type=style&index=0&id=bed6a406&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bed6a406\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","appstore","app_theme","directives","name","rawName","value","search","expression","domProps","on","load_data","$event","theatres_list","storeE","theatre_list","target","composing","_l","x","key","id","class","model","days","callback","$$v","_v","selected_theatre","_s","total_revenue","ticket_sold","no_of_shows","radial_options","radial_series","staticStyle","line_options","line_series","bar_options","bar_series","staticRenderFns","data","useAppStore","useEditorStore","retrieved_data","label_x","dataLabels","enabled","colors","stroke","width","curve","plotOptions","bar","columnWidth","xaxis","categories","convertedCatToNumeric","labels","style","fontSize","yaxis","axisTicks","show","axisBorder","color","formatter","lookup","symbol","rx","item","slice","reverse","find","toFixed","replace","title","text","opposite","tooltip","shared","intersect","legend","horizontalAlign","offsetX","undefined","useSeriesColors","radialBar","offsetY","startAngle","endAngle","hollow","margin","size","background","image","floating","position","markers","seriesName","opts","w","globals","series","seriesIndex","itemMargin","vertical","responsive","breakpoint","options","borderRadius","horizontal","theme","y","beforeMount","getData","methods","asd","loading","response","fetch","api","method","headers","getheader","status","content","json","JSON","parse","stringify","r_options","console","log","map","float","Math","floor","e","component"],"sourceRoot":""}
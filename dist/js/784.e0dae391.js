"use strict";(self["webpackChunkticketshow_vue"]=self["webpackChunkticketshow_vue"]||[]).push([[784],{8784:function(t,e,s){s.r(e),s.d(e,{default:function(){return g}});var a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"container",attrs:{"data-bs-theme":t.appstore.app_theme}},[e("div",{staticClass:"row"},[e("div",{staticClass:"offset-md-2 col-lg-11 col-md-7 offset-lg-4 offset-md-3"},[e("b-card",{staticClass:"panel border"},[e("b-card-header",{staticClass:"panel-heading"},[e("h4",{staticClass:"py-2 font-weight-bold"},[t._v(t._s(t.signup_form?"Signup":"Login"))])]),e("b-card-body",{staticClass:"panel-body p-3"},[t.appstore.signup_status?e("b-alert",{attrs:{variant:400===t.appstore.signup_status?"danger":"warning"}},[t._v(" "+t._s(200===t.appstore.signup_status?"User Registered Successfully":400===t.appstore.signup_status?"Email Already registered.":""))]):t._e(),e("b-form",[e("b-form-group",{staticClass:"form-group py-2"},[e("b-input-group",{staticClass:"input-field row py-2"},[e("b-col",{attrs:{cols:"2"}},[e("b-icon",{staticClass:"primary far fa-user",attrs:{icon:"person"}})],1),e("b-col",{attrs:{cols:"10"}},[e("b-form-input",{attrs:{placeholder:"Email",required:"",type:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),e("b-input-group",{staticClass:"input-field row py-2 mt-2"},[e("b-col",{attrs:{cols:"2"}},[e("b-icon",{staticClass:"primary far",attrs:{icon:"lock"}})],1),e("b-col",{attrs:{cols:""}},[e("b-form-input",{attrs:{type:t.eye?"text":"password",placeholder:"Enter your Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),e("b-col",{attrs:{cols:"2"}},[e("button",{staticClass:"btn text-muted",on:{click:function(e){t.eye=!t.eye}}},[e("b-icon",{staticClass:"primary",attrs:{icon:t.eye?"eye-fill":"eye-slash-fill"}})],1)])],1),t.signup_form?e("b-input-group",{staticClass:"input-field row py-2 mt-2"},[e("b-col",{attrs:{cols:"2"}},[e("b-icon",{staticClass:"primary far",attrs:{icon:"lock"}})],1),e("b-col",{attrs:{cols:""}},[e("b-form-input",{attrs:{type:t.eye?"text":"password",placeholder:"Repeat your Password",state:t.password_match},on:{focusout:function(e){t.password_match=t.password===t.password2}},model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}}),e("b-form-invalid-feedback",{attrs:{id:"input-live-feedback"}},[t._v(" Your passwords do not match. ")])],1)],1):t._e()],1),e("b-form",{staticClass:"form-inline",attrs:{inline:""}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.remember,expression:"remember"}],attrs:{id:"remember",name:"remember",type:"checkbox"},domProps:{checked:Array.isArray(t.remember)?t._i(t.remember,null)>-1:t.remember},on:{change:function(e){var s=t.remember,a=e.target,o=!!a.checked;if(Array.isArray(s)){var r=null,i=t._i(s,r);a.checked?i<0&&(t.remember=s.concat([r])):i>-1&&(t.remember=s.slice(0,i).concat(s.slice(i+1)))}else t.remember=o}}}),e("label",{staticClass:"text-muted me-2",attrs:{for:"remember"}},[t._v("Remember me")]),e("a",{staticClass:"d-none font-weight-bold",attrs:{id:"forgot",href:"#"}},[t._v("Forgot password?")])]),e("b-button",{staticClass:"btn btn-primary btn-block px-3 py-1 mt-3",attrs:{disabled:t.disable_button,pill:""},on:{click:function(e){t.signup_form?t.signup():t.login()}}},[t._v(" "+t._s(t.signup_form?"Signup":"Login")+" ")]),e("div",{staticClass:"text-center pt-4 text-muted"},[t._v(t._s(t.signup_form?"Already have an account?":"Don't have an account?")+" "),e("span",{staticClass:"btn-link",on:{click:function(e){t.signup_form=!t.signup_form}}},[t._v(t._s(t.signup_form?"Login":"Signup"))])])],1)],1),e("b-card-footer",{staticClass:"mx-3 my-2 py-2 bordert"},[e("div",{staticStyle:{"color-scheme":"light"},attrs:{id:"g_id_onload","data-auto_prompt":"false","data-callback":"handleCredentialResponse","data-client_id":"519706053397-1739mh8juqvrs4tv89mer3dvdjoshl01.apps.googleusercontent.com"}}),e("div",{staticClass:"g_id_signin w-100 d-flex justify-content-center my-3",staticStyle:{"color-scheme":"light"},attrs:{"data-theme":"light"===t.appstore.app_theme?"filled_black":"","data-logo_alignment":"left","data-shape":"rectangular","data-size":"large","data-text":"sign_in_with","data-type":"standard"}})])],1)],1)])])},o=[],r=(s(2801),s(7658),s(7195)),i=s(490),n=s(3306),l=s(306),c=s(2751);function p(t){let e=t.split(".")[1],s=e.replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(s).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(a)}window.handleCredentialResponse=async t=>{const e=p(t.credential);await l.Z.post("http://127.0.0.1:4433/login/google",{token:t.credential},{headers:{"Content-Type":"application/json",accept:"application/json"}}).then((function(t){(0,n.q)().login_with_token(t.data.token,e),c.Z.push("/")})).catch((function(t){console.log(t)}))};var d=(0,r.defineComponent)({name:"LoginPage",computed:{App(){return i.Z}},data:()=>({appstore:(0,n.q)(),eye:!1,disable_button:!1,password:"",email:"",remember:!0,password2:"",signup_form:!1,username:null,password_match:null}),beforeMount(){if(document.getElementById("my-gsi-client"))return;let t=document.createElement("script");t.src="https://accounts.google.com/gsi/client",t.id="my-gsi-client",document.getElementsByTagName("head")[0].appendChild(t)},methods:{async login(){this.disable_button=!0,await this.appstore.login(this.email,this.password,this.remember),this.disable_button=!1},async signup(){this.disable_button=!0,await this.appstore.signup(this.email,this.password),this.disable_button=!1}}}),m=d,u=s(1001),b=(0,u.Z)(m,a,o,!1,null,"17a16889",null),g=b.exports}}]);
//# sourceMappingURL=784.e0dae391.js.map